# Perplexity Clone

A modern AI-powered search assistant that combines web search capabilities with intelligent summarization, similar to Perplexity AI. This application provides comprehensive answers to user queries by searching the web, extracting relevant content, and generating detailed responses using Google's Gemini AI.

## 🌟 Features

- **Intelligent Search**: Real-time web search using Tavily API
- **AI-Powered Responses**: Comprehensive answers generated by Google Gemini 2.0 Flash
- **Source Attribution**: Transparent citation of sources with links
- **Real-time Streaming**: WebSocket-based streaming responses for better UX
- **Modern UI**: Beautiful, responsive interface built with React and Tailwind CSS
- **Chat History**: Persistent conversation history during sessions
- **Content Extraction**: Automatic web content extraction and processing

## 🚀 Tech Stack

### Frontend
- **React 18** with TypeScript
- **Vite** for fast development and building
- **Tailwind CSS** for styling
- **shadcn/ui** for modern UI components
- **React Router** for navigation
- **React Query** for data fetching
- **Lucide React** for icons

### Backend
- **FastAPI** for high-performance API
- **Python 3.8+**
- **Pydantic** for data validation
- **WebSocket** support for real-time streaming
- **Tavily API** for web search
- **Google Gemini API** for AI responses
- **Trafilatura** for web content extraction

## 📋 Prerequisites

Before running this application, make sure you have:

- **Node.js** (v16 or higher)
- **Python** (3.8 or higher)
- **Tavily API Key** ([Get one here](https://tavily.com/))
- **Google Gemini API Key** ([Get one here](https://ai.google.dev/))

## 🛠️ Installation & Setup

### 1. Clone the Repository

```bash
git clone <repository-url>
cd perplexity-clone
```

### 2. Backend Setup

```bash
# Navigate to server directory
cd server

# Create virtual environment
python -m venv venv

# Activate virtual environment
# On Windows:
venv\Scripts\activate
# On macOS/Linux:
source venv/bin/activate

# Install dependencies
pip install -r requirements.txt

# Create .env file
cp .env.example .env
```

### 3. Environment Configuration

Create a `.env` file in the `server` directory with the following variables:

```env
TAVILY_API_KEY=your_tavily_api_key_here
GEMINI_API_KEY=your_gemini_api_key_here
```

### 4. Frontend Setup

```bash
# Navigate to frontend directory
cd ../frontend

# Install dependencies
npm install

# Or if you prefer yarn
yarn install
```

## 🚀 Running the Application

### Start the Backend Server

```bash
cd server
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

The API will be available at `http://localhost:8000`

### Start the Frontend Development Server

```bash
cd frontend
npm run dev
```

The application will be available at `http://localhost:5173`

## 📁 Project Structure

```
perplexity-clone/
├── frontend/                    # React frontend
│   ├── src/
│   │   ├── components/         # Reusable UI components
│   │   │   ├── ui/            # shadcn/ui components
│   │   │   ├── ChatHistory.tsx
│   │   │   ├── MessageBubble.tsx
│   │   │   ├── SearchInterface.tsx
│   │   │   └── SourcesList.tsx
│   │   ├── hooks/             # Custom React hooks
│   │   ├── lib/               # Utility functions
│   │   ├── pages/             # Page components
│   │   ├── types/             # TypeScript type definitions
│   │   └── main.tsx           # Application entry point
│   ├── public/                # Static assets
│   └── package.json
│
├── server/                     # FastAPI backend
│   ├── services/              # Business logic services
│   │   ├── llm_service.py     # Gemini AI integration
│   │   ├── search_service.py  # Tavily search integration
│   │   └── sort_source_service.py
│   ├── pydantic_models/       # Data models
│   │   └── chat_body.py
│   ├── config.py              # Configuration settings
│   ├── main.py                # FastAPI application
│   └── requirements.txt
│
└── README.md
```

## 🔌 API Endpoints

### WebSocket Endpoint
- `WS /ws/chat` - Real-time chat with streaming responses

### REST Endpoints
- `POST /chat` - Send a chat message and get response

## 🧪 Usage Examples

### Basic Search Query
```
Query: "What are the latest developments in artificial intelligence?"
```

The system will:
1. Search the web using Tavily API
2. Extract content from relevant sources
3. Generate a comprehensive response using Gemini AI
4. Provide source citations for transparency

### Complex Queries
```
Query: "Compare renewable energy sources and their efficiency rates"
```

The AI will analyze multiple sources and provide a detailed comparison with proper citations.

## 🔧 Configuration

### Backend Configuration
- Modify `config.py` to add new environment variables
- Update `main.py` to add new API endpoints
- Extend services in the `services/` directory

### Frontend Configuration
- Update `vite.config.ts` for build configuration
- Modify `tailwind.config.ts` for styling customization
- Add new routes in `App.tsx`

## 🚀 Deployment

### Production Build

**Frontend:**
```bash
cd frontend
npm run build
```

**Backend:**
```bash
cd server
pip install -r requirements.txt
uvicorn main:app --host 0.0.0.0 --port 8000
```

### Docker Deployment (Optional)

Create `Dockerfile` for containerized deployment:

```dockerfile
# Backend Dockerfile
FROM python:3.9-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
```

## 🤝 Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## 📝 Development Guidelines

- Follow TypeScript best practices for frontend
- Use Python type hints in backend code
- Implement proper error handling
- Add unit tests for new features
- Follow the existing code style and conventions

## 🐛 Troubleshooting

### Common Issues

1. **API Keys Not Working**
   - Verify your API keys are correctly set in the `.env` file
   - Check if the keys have proper permissions

2. **CORS Issues**
   - Ensure the frontend proxy is configured correctly in `vite.config.ts`

3. **WebSocket Connection Fails**
   - Check if the backend server is running on the correct port
   - Verify firewall settings allow WebSocket connections

## 📄 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## 🙏 Acknowledgments

- [Tavily](https://tavily.com/) for web search capabilities
- [Google AI](https://ai.google.dev/) for Gemini API
- [shadcn/ui](https://ui.shadcn.com/) for beautiful UI components
- [FastAPI](https://fastapi.tiangolo.com/) for the backend framework

## 📧 Support

For support, please open an issue on GitHub or contact the development team.

---

**Happy coding! 🚀**